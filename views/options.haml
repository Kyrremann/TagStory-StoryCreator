!!!
%html
  %head
    %title Tag ##{get_tag_id}
    %link(rel="stylesheet" href="css/style.css")
    %link(rel="stylesheet" href="//netdna.bootstrapcdn.com/bootstrap/3.1.1/css/bootstrap.min.css")
    %link(rel="stylesheet" href="//netdna.bootstrapcdn.com/bootstrap/3.1.1/css/bootstrap-theme.min.css")
    %script(src="//code.jquery.com/jquery-1.11.0.min.js")
    %script(src="//netdna.bootstrapcdn.com/bootstrap/3.1.1/js/bootstrap.min.js")
  %body
    = haml :"templates/nav"
      
    %div{:id => "content-main", :class => "container"}
      %div{:class => "panel panel-default"}
        %div{:class => "panel-heading"}
          %ul{:class => "nav nav-tabs"}
            %li
              %a{:href => "/mystories/edit/tag"}
                Tag
            %li
              %a{:href => "/mystories/edit/tag/quiz"}
                Quiz
            %li{:class => "active"}
              %a{:href => "/mystories/edit/tag/options"}
                Options
        %div{:class => "panel-body"}
          %form{:action => "/mystories/edit/tag/options", :method => "post", :role => "form", :class => "form-horizontal"}
            %fieldset
              - params.each_with_index do | elem, i |
                %div{:class => "panel panel-default"}
                  .panel-heading
                    %h3{:class => "panel-title"}
                      Option ##{i + 1} - #{elem['hint_title']}
                      %a{:href => "/mystories/edit/tag/options/delete/#{i}", :class => "pull-right"}
                        Delete
                  .panel-body
                    %div{:class => "row form-group"}
                      %div{:class => "col-md-2"}
                        %label{:for => "hint_title"} Title:
                      %input{:type => "text", :name => "options[][hint_title]", :value => "#{elem['hint_title']}"}
      
                    %div{:class => "row form-group"}
                      %div{:class => "col-md-2"}
                        %label{:for => "hint_method"} Hint method:
                      %select{:name => "options[][hint_method]"}
                        %option{:value => "hint_text", :selected => params['hint_method'] == "hint_text"} Text
                        %option{:value => "hint_image", :selected => params['hint_method'] == "hint_image"} Image
                        %option{:value => "hint_sound", :selected => params['hint_method'] == "hint_sound"} Sound
                        %option{:value => "hint_map", :selected => params['hint_method'] == "hint_map"} Map
                        %option{:value => "hint_arrow", :selected => params['hint_method'] == "hint_arrow"} Arrow
                        %option{:value => "hint_video", :selected => params['hint_method'] == "hint_video"} Video
      
                    %div{:class => "row form-group"}
                      %div{:class => "col-md-2"}
                        %label{:for => "hint_text"} Hint text:
                      %input{:type => "text", :name => "options[][hint_text]", :value => "#{elem['hint_text']}"}
      
                    %div{:class => "row form-group"}
                      %div{:class => "col-md-2"}
                        %label{:for => "image_source"} Image source:
                      %input{:type => "text", :name => "options[][image_source]", :value => "#{elem['image_source']}"}    
      
                    %div{:class => "row form-group"}
                      %div{:class => "col-md-2"}
                        %label{:for => "sound_source"} Sound source:
                      %input{:type => "text", :name => "options[][sound_source]", :value => "#{elem['sound_source']}"}
      
                    %div{:class => "row form-group"}
                      %div{:class => "col-md-2"}
                        %label{:for => "lat"} GPS Latitude:
                      %input{:type => "text", :name => "options[][lat]", :value => "#{elem['lat']}"}
      
                    %div{:class => "row form-group"}
                      %div{:class => "col-md-2"}
                        %label{:for => "long"} GPS Longitude:
                      %input{:type => "text", :name => "options[][long]", :value => "#{elem['long']}"}
      
                    %div{:class => "row form-group buttons", :class => "col-md-5"}
                      %input{:type => "submit", :name => "save", :value => "Save", :class => "btn btn-default"}
                      %input{:type => "submit", :name => "add_option", :value => "Add option", :class => "btn btn-default"}

        %div{:class => "panel-footer"}
          = haml :"templates/tag_footer"
